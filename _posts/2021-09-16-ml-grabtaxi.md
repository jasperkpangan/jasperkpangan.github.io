---
classes: wide
title: "Cancel Culture: Predicting Grab Taxi Booking Status"
date: 2021-09-16
last_modified_at: 2021-09-16
permalink: /projects/ph-grab-ml
tags: [Grab taxi, machine learning, classification, light gbm, python]
excerpt: "Using machine learning to predict allocation of Grab taxi bookings"
category: "projects"
mathjax: "true"
---
[![](https://img.shields.io/badge/Jupyter-View_Notebook-F37626?logo=jupyter)](https://github.com/jasperkpangan/ml-classification-grab-taxi/blob/main/IndividualReport_JasperPangan.ipynb)       [![](https://img.shields.io/badge/Github-View_HTML-181717?logo=github)](https://github.com/jasperkpangan/dmw-eda-ph-customs/blob/main/Technical%20Report.html)

*This is my final project for our Machine Learning class. We were tasked to create a machine learning model using any dataset of our choice.*

## Motivation
Now that most of us are working from home, one thing we surely don't miss is **commuting**. Prior to the pandemic,
most of us have experienced the *carmageddon* along EDSA. Traffic is one of the biggest crisis in our country that several administrations failed to solve. One of the major causes of the heavy traffic in our country is the poor public transportation system [[1]](https://philkotse.com/safe-driving/top-5-major-causes-of-traffic-in-the-philippines-5736). With the constant breakdown of the country's main transit system [[2]](https://rappler.com/newsbreak/iq/things-to-know-about-metro-manila-public-transport-system) and lack of options due to insanely long queue and madness experienced when using public transportation, many Filipinos resort to alternatives. In particular, ride sharing services has grown exponentially during the last decade, specifically Grab. 

In 2018 alone, Grab users traveled the cumulative total of 920 million kilometers [[3]](https://www.carguide.ph/2019/01/7-facts-and-figures-about-grab-in-2018.html) with over 35,000 partner drivers. Grabe reported to have cut down travel time by 70%, but still customers demand for better service [[4]](https://www.techinasia.com/internet-flooded-complaints-grab-scrutinize-app). Since Grab receives around 600,000 bookings per day, [[5]](https://rappler.com/business/grab-philippines-drivers-not-enough-passenger-bookings) they experience an undersupply of vehicles to meet the passenger demand. Hence, it is a common frustration among Filipinos booking for Grab to experience the following: (1) waiting for a long time to book a ride to no avail, (2) costly ride, and (3) drivers cancelling their ride.

This study focuses on the **non-allocation of Grab Taxi bookings**. This study aims to answer the question, **How can we predict the allocation of a booking of Grab Taxi?**

## Business Value
Predicting the status of a grab booking will be beneficial to different stakeholders such as the Grab passengers, Grab partner drivers, Grab, and the local government units. 

- __Grab Passengers__: Grab passengers can use this system to check if their planned schedule booking will be completed or cancelled given the booking information. In this way, they can plan ahead.
- __Grab and its partner drivers__: Grab can use this system to understand the factors why its partner drivers cancel their allocated grab booking. Through this, they can better implement their demand capacity planning.
- __Government__: By understanding location hotspots, local government units can improve public transportation by pushing initiatives such as the P2P bus-service.

## Methodology


## Exploring the Grab Dataset

The dataset was downloaded and extracted from [Tableau Public](https://public.tableau.com/profile/daryl6537?fbclid=IwAR0Ixd8gKuYh37iyNXGSzzWuHCCa6jU_ZcX1Pv5Yw5cAwvujYGC5oexzIkM#!/vizhome/Tabley/Page0).
Prior to filtering and data processing, the Grab dataset is composed of `197,188` rows and `21` columns. A row corresponds to a booking information for Grab Taxi.

The target variable defined in this study is whether a Grab booking was allocated (regardless if it's cancelled by the driver or passenger) or unallocated. Here we inspect the distribution of each class in our dataset. This can provide us information on the appropriate metric and methodology to implement to arrive with a relevant machine learning model.
<!-- <img src = "{{ site.url }}{{ site.baseurl }}\assets\images\project\import-export-network.png"> -->
<img src = "\assets\images\project\grab-target.png" height = "200">

<p style="font-size:12px;font-style:default;"><b>Figure 1. Percentage of Allocation and Non-Allocation of Grab Taxi Bookings</b><br>Although the target variable is not heavily imbalanced, it is still important to consider other metrics aside from accuracy such as recall and precision when evaluating the machine learning model.</p>

Both recall and precision will be relevant to Grab as it will help in capacity planning. These metrics will also be relevant to the users so they can better anticipate and plan their day ahead.

<img src = "\assets\images\project\grab-calmap.png" height = "200">

<p style="font-size:12px;font-style:default;"><b>Figure 2. Daily Percentage of Unallocated Bookings</b><br> On a daily-basis, the percentage of bookings that were unallocated tend to be during weekdays, specifically during Fridays.</p>

<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<div>                            <div id="fda16181-025f-4708-8bb0-099094d4636c" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("fda16181-025f-4708-8bb0-099094d4636c")) {                    Plotly.newPlot(                        "fda16181-025f-4708-8bb0-099094d4636c",                        [{"coloraxis":"coloraxis","featureidkey":"properties.id","geojson":{"bbox":[120.849609375,14.1943359375,120.8935546875,14.23828125],"features":[{"bbox":[120.849609375,14.1943359375,120.8935546875,14.23828125],"geometry":{"coordinates":[[[120.849609375,14.1943359375],[120.8935546875,14.1943359375],[120.8935546875,14.23828125],[120.849609375,14.23828125],[120.849609375,14.1943359375]]],"type":"Polygon"},"id":"0","properties":{},"type":"Feature"},{"geometry":{"coordinates":[[[120.8935546875,14.1943359375],[120.9375,14.1943359375],[120.9375,14.23828125],[120.8935546875,14.23828125],[120.8935546875,14.1943359375]]],"type":"Polygon"},"properties":{"id":"wdtbz"},"type":"Feature"},{"geometry":{"coordinates":[[[120.8935546875,14.23828125],[120.9375,14.23828125],[120.9375,14.2822265625],[120.8935546875,14.2822265625],[120.8935546875,14.23828125]]],"type":"Polygon"},"properties":{"id":"wdtcp"},"type":"Feature"},{"geometry":{"coordinates":[[[120.8935546875,14.2822265625],[120.9375,14.2822265625],[120.9375,14.326171875],[120.8935546875,14.326171875],[120.8935546875,14.2822265625]]],"type":"Polygon"},"properties":{"id":"wdtcr"},"type":"Feature"},{"geometry":{"coordinates":[[[120.849609375,14.326171875],[120.8935546875,14.326171875],[120.8935546875,14.3701171875],[120.849609375,14.3701171875],[120.849609375,14.326171875]]],"type":"Polygon"},"properties":{"id":"wdtcw"},"type":"Feature"},{"geometry":{"coordinates":[[[120.8935546875,14.326171875],[120.9375,14.326171875],[120.9375,14.3701171875],[120.8935546875,14.3701171875],[120.8935546875,14.326171875]]],"type":"Polygon"},"properties":{"id":"wdtcx"},"type":"Feature"},{"geometry":{"coordinates":[[[120.8935546875,14.3701171875],[120.9375,14.3701171875],[120.9375,14.4140625],[120.8935546875,14.4140625],[120.8935546875,14.3701171875]]],"type":"Polygon"},"properties":{"id":"wdtcz"},"type":"Feature"},{"geometry":{"coordinates":[[[120.849609375,14.4140625],[120.8935546875,14.4140625],[120.8935546875,14.4580078125],[120.849609375,14.4580078125],[120.849609375,14.4140625]]],"type":"Polygon"},"properties":{"id":"wdtfn"},"type":"Feature"},{"geometry":{"coordinates":[[[120.8935546875,14.4140625],[120.9375,14.4140625],[120.9375,14.4580078125],[120.8935546875,14.4580078125],[120.8935546875,14.4140625]]],"type":"Polygon"},"properties":{"id":"wdtfp"},"type":"Feature"},{"geometry":{"coordinates":[[[120.849609375,14.4580078125],[120.8935546875,14.4580078125],[120.8935546875,14.501953125],[120.849609375,14.501953125],[120.849609375,14.4580078125]]],"type":"Polygon"},"properties":{"id":"wdtfq"},"type":"Feature"},{"geometry":{"coordinates":[[[120.8935546875,14.4580078125],[120.9375,14.4580078125],[120.9375,14.501953125],[120.8935546875,14.501953125],[120.8935546875,14.4580078125]]],"type":"Polygon"},"properties":{"id":"wdtfr"},"type":"Feature"},{"geometry":{"coordinates":[[[120.8935546875,14.6337890625],[120.9375,14.6337890625],[120.9375,14.677734375],[120.8935546875,14.677734375],[120.8935546875,14.6337890625]]],"type":"Polygon"},"properties":{"id":"wdtgr"},"type":"Feature"},{"geometry":{"coordinates":[[[120.8935546875,14.677734375],[120.9375,14.677734375],[120.9375,14.7216796875],[120.8935546875,14.7216796875],[120.8935546875,14.677734375]]],"type":"Polygon"},"properties":{"id":"wdtgx"},"type":"Feature"},{"geometry":{"coordinates":[[[120.8935546875,14.7216796875],[120.9375,14.7216796875],[120.9375,14.765625],[120.8935546875,14.765625],[120.8935546875,14.7216796875]]],"type":"Polygon"},"properties":{"id":"wdtgz"},"type":"Feature"},{"geometry":{"coordinates":[[[120.849609375,14.765625],[120.8935546875,14.765625],[120.8935546875,14.8095703125],[120.849609375,14.8095703125],[120.849609375,14.765625]]],"type":"Polygon"},"properties":{"id":"wdtun"},"type":"Feature"},{"geometry":{"coordinates":[[[120.8935546875,14.8095703125],[120.9375,14.8095703125],[120.9375,14.853515625],[120.8935546875,14.853515625],[120.8935546875,14.8095703125]]],"type":"Polygon"},"properties":{"id":"wdtur"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9375,14.1943359375],[120.9814453125,14.1943359375],[120.9814453125,14.23828125],[120.9375,14.23828125],[120.9375,14.1943359375]]],"type":"Polygon"},"properties":{"id":"wdw0b"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9814453125,14.1943359375],[121.025390625,14.1943359375],[121.025390625,14.23828125],[120.9814453125,14.23828125],[120.9814453125,14.1943359375]]],"type":"Polygon"},"properties":{"id":"wdw0c"},"type":"Feature"},{"geometry":{"coordinates":[[[121.025390625,14.1943359375],[121.0693359375,14.1943359375],[121.0693359375,14.23828125],[121.025390625,14.23828125],[121.025390625,14.1943359375]]],"type":"Polygon"},"properties":{"id":"wdw0f"},"type":"Feature"},{"geometry":{"coordinates":[[[121.0693359375,14.1943359375],[121.11328125,14.1943359375],[121.11328125,14.23828125],[121.0693359375,14.23828125],[121.0693359375,14.1943359375]]],"type":"Polygon"},"properties":{"id":"wdw0g"},"type":"Feature"},{"geometry":{"coordinates":[[[121.11328125,14.150390625],[121.1572265625,14.150390625],[121.1572265625,14.1943359375],[121.11328125,14.1943359375],[121.11328125,14.150390625]]],"type":"Polygon"},"properties":{"id":"wdw0s"},"type":"Feature"},{"geometry":{"coordinates":[[[121.1572265625,14.150390625],[121.201171875,14.150390625],[121.201171875,14.1943359375],[121.1572265625,14.1943359375],[121.1572265625,14.150390625]]],"type":"Polygon"},"properties":{"id":"wdw0t"},"type":"Feature"},{"geometry":{"coordinates":[[[121.11328125,14.1943359375],[121.1572265625,14.1943359375],[121.1572265625,14.23828125],[121.11328125,14.23828125],[121.11328125,14.1943359375]]],"type":"Polygon"},"properties":{"id":"wdw0u"},"type":"Feature"},{"geometry":{"coordinates":[[[121.1572265625,14.1943359375],[121.201171875,14.1943359375],[121.201171875,14.23828125],[121.1572265625,14.23828125],[121.1572265625,14.1943359375]]],"type":"Polygon"},"properties":{"id":"wdw0v"},"type":"Feature"},{"geometry":{"coordinates":[[[121.201171875,14.150390625],[121.2451171875,14.150390625],[121.2451171875,14.1943359375],[121.201171875,14.1943359375],[121.201171875,14.150390625]]],"type":"Polygon"},"properties":{"id":"wdw0w"},"type":"Feature"},{"geometry":{"coordinates":[[[121.2451171875,14.150390625],[121.2890625,14.150390625],[121.2890625,14.1943359375],[121.2451171875,14.1943359375],[121.2451171875,14.150390625]]],"type":"Polygon"},"properties":{"id":"wdw0x"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9814453125,14.23828125],[121.025390625,14.23828125],[121.025390625,14.2822265625],[120.9814453125,14.2822265625],[120.9814453125,14.23828125]]],"type":"Polygon"},"properties":{"id":"wdw11"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9375,14.2822265625],[120.9814453125,14.2822265625],[120.9814453125,14.326171875],[120.9375,14.326171875],[120.9375,14.2822265625]]],"type":"Polygon"},"properties":{"id":"wdw12"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9814453125,14.2822265625],[121.025390625,14.2822265625],[121.025390625,14.326171875],[120.9814453125,14.326171875],[120.9814453125,14.2822265625]]],"type":"Polygon"},"properties":{"id":"wdw13"},"type":"Feature"},{"geometry":{"coordinates":[[[121.025390625,14.23828125],[121.0693359375,14.23828125],[121.0693359375,14.2822265625],[121.025390625,14.2822265625],[121.025390625,14.23828125]]],"type":"Polygon"},"properties":{"id":"wdw14"},"type":"Feature"},{"geometry":{"coordinates":[[[121.0693359375,14.23828125],[121.11328125,14.23828125],[121.11328125,14.2822265625],[121.0693359375,14.2822265625],[121.0693359375,14.23828125]]],"type":"Polygon"},"properties":{"id":"wdw15"},"type":"Feature"},{"geometry":{"coordinates":[[[121.025390625,14.2822265625],[121.0693359375,14.2822265625],[121.0693359375,14.326171875],[121.025390625,14.326171875],[121.025390625,14.2822265625]]],"type":"Polygon"},"properties":{"id":"wdw16"},"type":"Feature"},{"geometry":{"coordinates":[[[121.0693359375,14.2822265625],[121.11328125,14.2822265625],[121.11328125,14.326171875],[121.0693359375,14.326171875],[121.0693359375,14.2822265625]]],"type":"Polygon"},"properties":{"id":"wdw17"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9375,14.326171875],[120.9814453125,14.326171875],[120.9814453125,14.3701171875],[120.9375,14.3701171875],[120.9375,14.326171875]]],"type":"Polygon"},"properties":{"id":"wdw18"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9814453125,14.326171875],[121.025390625,14.326171875],[121.025390625,14.3701171875],[120.9814453125,14.3701171875],[120.9814453125,14.326171875]]],"type":"Polygon"},"properties":{"id":"wdw19"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9375,14.3701171875],[120.9814453125,14.3701171875],[120.9814453125,14.4140625],[120.9375,14.4140625],[120.9375,14.3701171875]]],"type":"Polygon"},"properties":{"id":"wdw1b"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9814453125,14.3701171875],[121.025390625,14.3701171875],[121.025390625,14.4140625],[120.9814453125,14.4140625],[120.9814453125,14.3701171875]]],"type":"Polygon"},"properties":{"id":"wdw1c"},"type":"Feature"},{"geometry":{"coordinates":[[[121.025390625,14.326171875],[121.0693359375,14.326171875],[121.0693359375,14.3701171875],[121.025390625,14.3701171875],[121.025390625,14.326171875]]],"type":"Polygon"},"properties":{"id":"wdw1d"},"type":"Feature"},{"geometry":{"coordinates":[[[121.0693359375,14.326171875],[121.11328125,14.326171875],[121.11328125,14.3701171875],[121.0693359375,14.3701171875],[121.0693359375,14.326171875]]],"type":"Polygon"},"properties":{"id":"wdw1e"},"type":"Feature"},{"geometry":{"coordinates":[[[121.025390625,14.3701171875],[121.0693359375,14.3701171875],[121.0693359375,14.4140625],[121.025390625,14.4140625],[121.025390625,14.3701171875]]],"type":"Polygon"},"properties":{"id":"wdw1f"},"type":"Feature"},{"geometry":{"coordinates":[[[121.11328125,14.23828125],[121.1572265625,14.23828125],[121.1572265625,14.2822265625],[121.11328125,14.2822265625],[121.11328125,14.23828125]]],"type":"Polygon"},"properties":{"id":"wdw1h"},"type":"Feature"},{"geometry":{"coordinates":[[[121.11328125,14.2822265625],[121.1572265625,14.2822265625],[121.1572265625,14.326171875],[121.11328125,14.326171875],[121.11328125,14.2822265625]]],"type":"Polygon"},"properties":{"id":"wdw1k"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9375,14.4140625],[120.9814453125,14.4140625],[120.9814453125,14.4580078125],[120.9375,14.4580078125],[120.9375,14.4140625]]],"type":"Polygon"},"properties":{"id":"wdw40"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9814453125,14.4140625],[121.025390625,14.4140625],[121.025390625,14.4580078125],[120.9814453125,14.4580078125],[120.9814453125,14.4140625]]],"type":"Polygon"},"properties":{"id":"wdw41"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9375,14.4580078125],[120.9814453125,14.4580078125],[120.9814453125,14.501953125],[120.9375,14.501953125],[120.9375,14.4580078125]]],"type":"Polygon"},"properties":{"id":"wdw42"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9814453125,14.4580078125],[121.025390625,14.4580078125],[121.025390625,14.501953125],[120.9814453125,14.501953125],[120.9814453125,14.4580078125]]],"type":"Polygon"},"properties":{"id":"wdw43"},"type":"Feature"},{"geometry":{"coordinates":[[[121.025390625,14.4140625],[121.0693359375,14.4140625],[121.0693359375,14.4580078125],[121.025390625,14.4580078125],[121.025390625,14.4140625]]],"type":"Polygon"},"properties":{"id":"wdw44"},"type":"Feature"},{"geometry":{"coordinates":[[[121.025390625,14.4580078125],[121.0693359375,14.4580078125],[121.0693359375,14.501953125],[121.025390625,14.501953125],[121.025390625,14.4580078125]]],"type":"Polygon"},"properties":{"id":"wdw46"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9375,14.501953125],[120.9814453125,14.501953125],[120.9814453125,14.5458984375],[120.9375,14.5458984375],[120.9375,14.501953125]]],"type":"Polygon"},"properties":{"id":"wdw48"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9814453125,14.501953125],[121.025390625,14.501953125],[121.025390625,14.5458984375],[120.9814453125,14.5458984375],[120.9814453125,14.501953125]]],"type":"Polygon"},"properties":{"id":"wdw49"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9375,14.5458984375],[120.9814453125,14.5458984375],[120.9814453125,14.58984375],[120.9375,14.58984375],[120.9375,14.5458984375]]],"type":"Polygon"},"properties":{"id":"wdw4b"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9814453125,14.5458984375],[121.025390625,14.5458984375],[121.025390625,14.58984375],[120.9814453125,14.58984375],[120.9814453125,14.5458984375]]],"type":"Polygon"},"properties":{"id":"wdw4c"},"type":"Feature"},{"geometry":{"coordinates":[[[121.025390625,14.501953125],[121.0693359375,14.501953125],[121.0693359375,14.5458984375],[121.025390625,14.5458984375],[121.025390625,14.501953125]]],"type":"Polygon"},"properties":{"id":"wdw4d"},"type":"Feature"},{"geometry":{"coordinates":[[[121.0693359375,14.501953125],[121.11328125,14.501953125],[121.11328125,14.5458984375],[121.0693359375,14.5458984375],[121.0693359375,14.501953125]]],"type":"Polygon"},"properties":{"id":"wdw4e"},"type":"Feature"},{"geometry":{"coordinates":[[[121.025390625,14.5458984375],[121.0693359375,14.5458984375],[121.0693359375,14.58984375],[121.025390625,14.58984375],[121.025390625,14.5458984375]]],"type":"Polygon"},"properties":{"id":"wdw4f"},"type":"Feature"},{"geometry":{"coordinates":[[[121.0693359375,14.5458984375],[121.11328125,14.5458984375],[121.11328125,14.58984375],[121.0693359375,14.58984375],[121.0693359375,14.5458984375]]],"type":"Polygon"},"properties":{"id":"wdw4g"},"type":"Feature"},{"geometry":{"coordinates":[[[121.1572265625,14.4580078125],[121.201171875,14.4580078125],[121.201171875,14.501953125],[121.1572265625,14.501953125],[121.1572265625,14.4580078125]]],"type":"Polygon"},"properties":{"id":"wdw4m"},"type":"Feature"},{"geometry":{"coordinates":[[[121.11328125,14.501953125],[121.1572265625,14.501953125],[121.1572265625,14.5458984375],[121.11328125,14.5458984375],[121.11328125,14.501953125]]],"type":"Polygon"},"properties":{"id":"wdw4s"},"type":"Feature"},{"geometry":{"coordinates":[[[121.1572265625,14.501953125],[121.201171875,14.501953125],[121.201171875,14.5458984375],[121.1572265625,14.5458984375],[121.1572265625,14.501953125]]],"type":"Polygon"},"properties":{"id":"wdw4t"},"type":"Feature"},{"geometry":{"coordinates":[[[121.11328125,14.5458984375],[121.1572265625,14.5458984375],[121.1572265625,14.58984375],[121.11328125,14.58984375],[121.11328125,14.5458984375]]],"type":"Polygon"},"properties":{"id":"wdw4u"},"type":"Feature"},{"geometry":{"coordinates":[[[121.1572265625,14.5458984375],[121.201171875,14.5458984375],[121.201171875,14.58984375],[121.1572265625,14.58984375],[121.1572265625,14.5458984375]]],"type":"Polygon"},"properties":{"id":"wdw4v"},"type":"Feature"},{"geometry":{"coordinates":[[[121.201171875,14.501953125],[121.2451171875,14.501953125],[121.2451171875,14.5458984375],[121.201171875,14.5458984375],[121.201171875,14.501953125]]],"type":"Polygon"},"properties":{"id":"wdw4w"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9375,14.58984375],[120.9814453125,14.58984375],[120.9814453125,14.6337890625],[120.9375,14.6337890625],[120.9375,14.58984375]]],"type":"Polygon"},"properties":{"id":"wdw50"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9814453125,14.58984375],[121.025390625,14.58984375],[121.025390625,14.6337890625],[120.9814453125,14.6337890625],[120.9814453125,14.58984375]]],"type":"Polygon"},"properties":{"id":"wdw51"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9375,14.6337890625],[120.9814453125,14.6337890625],[120.9814453125,14.677734375],[120.9375,14.677734375],[120.9375,14.6337890625]]],"type":"Polygon"},"properties":{"id":"wdw52"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9814453125,14.6337890625],[121.025390625,14.6337890625],[121.025390625,14.677734375],[120.9814453125,14.677734375],[120.9814453125,14.6337890625]]],"type":"Polygon"},"properties":{"id":"wdw53"},"type":"Feature"},{"geometry":{"coordinates":[[[121.025390625,14.58984375],[121.0693359375,14.58984375],[121.0693359375,14.6337890625],[121.025390625,14.6337890625],[121.025390625,14.58984375]]],"type":"Polygon"},"properties":{"id":"wdw54"},"type":"Feature"},{"geometry":{"coordinates":[[[121.0693359375,14.58984375],[121.11328125,14.58984375],[121.11328125,14.6337890625],[121.0693359375,14.6337890625],[121.0693359375,14.58984375]]],"type":"Polygon"},"properties":{"id":"wdw55"},"type":"Feature"},{"geometry":{"coordinates":[[[121.025390625,14.6337890625],[121.0693359375,14.6337890625],[121.0693359375,14.677734375],[121.025390625,14.677734375],[121.025390625,14.6337890625]]],"type":"Polygon"},"properties":{"id":"wdw56"},"type":"Feature"},{"geometry":{"coordinates":[[[121.0693359375,14.6337890625],[121.11328125,14.6337890625],[121.11328125,14.677734375],[121.0693359375,14.677734375],[121.0693359375,14.6337890625]]],"type":"Polygon"},"properties":{"id":"wdw57"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9375,14.677734375],[120.9814453125,14.677734375],[120.9814453125,14.7216796875],[120.9375,14.7216796875],[120.9375,14.677734375]]],"type":"Polygon"},"properties":{"id":"wdw58"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9814453125,14.677734375],[121.025390625,14.677734375],[121.025390625,14.7216796875],[120.9814453125,14.7216796875],[120.9814453125,14.677734375]]],"type":"Polygon"},"properties":{"id":"wdw59"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9375,14.7216796875],[120.9814453125,14.7216796875],[120.9814453125,14.765625],[120.9375,14.765625],[120.9375,14.7216796875]]],"type":"Polygon"},"properties":{"id":"wdw5b"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9814453125,14.7216796875],[121.025390625,14.7216796875],[121.025390625,14.765625],[120.9814453125,14.765625],[120.9814453125,14.7216796875]]],"type":"Polygon"},"properties":{"id":"wdw5c"},"type":"Feature"},{"geometry":{"coordinates":[[[121.025390625,14.677734375],[121.0693359375,14.677734375],[121.0693359375,14.7216796875],[121.025390625,14.7216796875],[121.025390625,14.677734375]]],"type":"Polygon"},"properties":{"id":"wdw5d"},"type":"Feature"},{"geometry":{"coordinates":[[[121.0693359375,14.677734375],[121.11328125,14.677734375],[121.11328125,14.7216796875],[121.0693359375,14.7216796875],[121.0693359375,14.677734375]]],"type":"Polygon"},"properties":{"id":"wdw5e"},"type":"Feature"},{"geometry":{"coordinates":[[[121.025390625,14.7216796875],[121.0693359375,14.7216796875],[121.0693359375,14.765625],[121.025390625,14.765625],[121.025390625,14.7216796875]]],"type":"Polygon"},"properties":{"id":"wdw5f"},"type":"Feature"},{"geometry":{"coordinates":[[[121.0693359375,14.7216796875],[121.11328125,14.7216796875],[121.11328125,14.765625],[121.0693359375,14.765625],[121.0693359375,14.7216796875]]],"type":"Polygon"},"properties":{"id":"wdw5g"},"type":"Feature"},{"geometry":{"coordinates":[[[121.11328125,14.58984375],[121.1572265625,14.58984375],[121.1572265625,14.6337890625],[121.11328125,14.6337890625],[121.11328125,14.58984375]]],"type":"Polygon"},"properties":{"id":"wdw5h"},"type":"Feature"},{"geometry":{"coordinates":[[[121.1572265625,14.58984375],[121.201171875,14.58984375],[121.201171875,14.6337890625],[121.1572265625,14.6337890625],[121.1572265625,14.58984375]]],"type":"Polygon"},"properties":{"id":"wdw5j"},"type":"Feature"},{"geometry":{"coordinates":[[[121.11328125,14.6337890625],[121.1572265625,14.6337890625],[121.1572265625,14.677734375],[121.11328125,14.677734375],[121.11328125,14.6337890625]]],"type":"Polygon"},"properties":{"id":"wdw5k"},"type":"Feature"},{"geometry":{"coordinates":[[[121.1572265625,14.6337890625],[121.201171875,14.6337890625],[121.201171875,14.677734375],[121.1572265625,14.677734375],[121.1572265625,14.6337890625]]],"type":"Polygon"},"properties":{"id":"wdw5m"},"type":"Feature"},{"geometry":{"coordinates":[[[121.201171875,14.58984375],[121.2451171875,14.58984375],[121.2451171875,14.6337890625],[121.201171875,14.6337890625],[121.201171875,14.58984375]]],"type":"Polygon"},"properties":{"id":"wdw5n"},"type":"Feature"},{"geometry":{"coordinates":[[[121.11328125,14.677734375],[121.1572265625,14.677734375],[121.1572265625,14.7216796875],[121.11328125,14.7216796875],[121.11328125,14.677734375]]],"type":"Polygon"},"properties":{"id":"wdw5s"},"type":"Feature"},{"geometry":{"coordinates":[[[121.11328125,14.7216796875],[121.1572265625,14.7216796875],[121.1572265625,14.765625],[121.11328125,14.765625],[121.11328125,14.7216796875]]],"type":"Polygon"},"properties":{"id":"wdw5u"},"type":"Feature"},{"geometry":{"coordinates":[[[121.1572265625,14.7216796875],[121.201171875,14.7216796875],[121.201171875,14.765625],[121.1572265625,14.765625],[121.1572265625,14.7216796875]]],"type":"Polygon"},"properties":{"id":"wdw5v"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9375,14.765625],[120.9814453125,14.765625],[120.9814453125,14.8095703125],[120.9375,14.8095703125],[120.9375,14.765625]]],"type":"Polygon"},"properties":{"id":"wdwh0"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9814453125,14.765625],[121.025390625,14.765625],[121.025390625,14.8095703125],[120.9814453125,14.8095703125],[120.9814453125,14.765625]]],"type":"Polygon"},"properties":{"id":"wdwh1"},"type":"Feature"},{"geometry":{"coordinates":[[[120.9375,14.8095703125],[120.9814453125,14.8095703125],[120.9814453125,14.853515625],[120.9375,14.853515625],[120.9375,14.8095703125]]],"type":"Polygon"},"properties":{"id":"wdwh2"},"type":"Feature"},{"geometry":{"coordinates":[[[121.025390625,14.765625],[121.0693359375,14.765625],[121.0693359375,14.8095703125],[121.025390625,14.8095703125],[121.025390625,14.765625]]],"type":"Polygon"},"properties":{"id":"wdwh4"},"type":"Feature"},{"geometry":{"coordinates":[[[121.0693359375,14.765625],[121.11328125,14.765625],[121.11328125,14.8095703125],[121.0693359375,14.8095703125],[121.0693359375,14.765625]]],"type":"Polygon"},"properties":{"id":"wdwh5"},"type":"Feature"},{"geometry":{"coordinates":[[[121.025390625,14.8095703125],[121.0693359375,14.8095703125],[121.0693359375,14.853515625],[121.025390625,14.853515625],[121.025390625,14.8095703125]]],"type":"Polygon"},"properties":{"id":"wdwh6"},"type":"Feature"},{"geometry":{"coordinates":[[[121.0693359375,14.8095703125],[121.11328125,14.8095703125],[121.11328125,14.853515625],[121.0693359375,14.853515625],[121.0693359375,14.8095703125]]],"type":"Polygon"},"properties":{"id":"wdwh7"},"type":"Feature"}],"type":"FeatureCollection"},"hovertemplate":"pick_up_geohash=%{location}<br>percent_cancelled=%{z}<extra></extra>","locations":["wdtby","wdtbz","wdtcp","wdtcr","wdtcw","wdtcx","wdtcz","wdtfn","wdtfp","wdtfq","wdtfr","wdtgr","wdtgx","wdtgz","wdtun","wdtur","wdw0b","wdw0c","wdw0f","wdw0g","wdw0s","wdw0t","wdw0u","wdw0v","wdw0w","wdw0x","wdw11","wdw12","wdw13","wdw14","wdw15","wdw16","wdw17","wdw18","wdw19","wdw1b","wdw1c","wdw1d","wdw1e","wdw1f","wdw1h","wdw1k","wdw40","wdw41","wdw42","wdw43","wdw44","wdw46","wdw48","wdw49","wdw4b","wdw4c","wdw4d","wdw4e","wdw4f","wdw4g","wdw4m","wdw4s","wdw4t","wdw4u","wdw4v","wdw4w","wdw50","wdw51","wdw52","wdw53","wdw54","wdw55","wdw56","wdw57","wdw58","wdw59","wdw5b","wdw5c","wdw5d","wdw5e","wdw5f","wdw5g","wdw5h","wdw5j","wdw5k","wdw5m","wdw5n","wdw5s","wdw5u","wdw5v","wdwh0","wdwh1","wdwh2","wdwh4","wdwh5","wdwh6","wdwh7"],"marker":{"opacity":0.75},"name":"","subplot":"mapbox","type":"choroplethmapbox","z":[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.8823529411764706,1.0,1.0,1.0,0.75,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.9166666666666666,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.875,1.0,1.0,1.0,0.9787234042553191,0.9207920792079208,1.0,1.0,0.8290155440414507,1.0,1.0,0.7590361445783133,0.7130177514792899,0.7586206896551724,0.5067406819984139,0.7453874538745388,0.5871598639455783,0.2566137566137566,0.3225416036308623,0.4368932038834951,0.4164896880456841,0.40943635212159596,0.5467625899280576,0.4225468797297943,0.453913491246138,1.0,0.9642857142857143,1.0,0.7979094076655052,0.8850574712643678,1.0,0.5484117872177574,0.47007542364580274,0.5863930885529157,0.3841013014421386,0.4135668923162817,0.4688790966675847,0.28305332359386415,0.45545863071636267,0.6531365313653137,0.4774066797642436,0.875,0.8596491228070176,0.4771386430678466,0.5431145431145431,0.6472491909385113,0.75,0.6856677524429967,0.9629629629629629,0.6710526315789473,1.0,1.0,0.6055045871559633,0.7142857142857143,0.7777777777777778,1.0,1.0,1.0,1.0,1.0,1.0,1.0]}],                        {"coloraxis":{"colorbar":{"ticktext":["0%","25%","50%","75%","100%"],"tickvals":[0,0.25,0.5,0.75,1],"title":{"text":"% of Unallocated Bookings"},"y":1,"yanchor":"top"},"colorscale":[[0.0,"rgb(255,255,204)"],[0.125,"rgb(255,237,160)"],[0.25,"rgb(254,217,118)"],[0.375,"rgb(254,178,76)"],[0.5,"rgb(253,141,60)"],[0.625,"rgb(252,78,42)"],[0.75,"rgb(227,26,28)"],[0.875,"rgb(189,0,38)"],[1.0,"rgb(128,0,38)"]]},"legend":{"tracegroupgap":0},"mapbox":{"center":{"lat":14.5547,"lon":121.02},"domain":{"x":[0.0,1.0],"y":[0.0,1.0]},"style":"carto-darkmatter","zoom":8},"margin":{"t":60},"paper_bgcolor":"rgba(0,0,0,0)","plot_bgcolor":"rgba(0,0,0,0)","showlegend":false,"template":{"data":{"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}}},                        {"responsive": true}                    )                };                            </script>        </div>
<p style="font-size:12px;font-style:default;"><b>Figure 3. Percentage of Unallocated Bookings per Pick-up Geohash</b><br> There are some areas wherein no bookings were allocated.</p>

## Results
- With only a few features available in the dataset, **Feature Engineering** was a crucial step to create valuable insights out of the limited dataset and improve performance of machine learning model. 
- The machine learning model was able to predict with $69\%$ accuracy which is over the threshold set at $PCC_{1.25}$ with $63\%$. **LightGBM** was used for its speed and efficiency in handling a huge dataset.
- The top features found were `hour_18`, `day_of_week_Friday`, and `day_of_week_Sunday`. These features were determined based on **information gain**.